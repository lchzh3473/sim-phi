import{I as e}from"./index-CfqrayXh.js";import{w as o}from"./waitForElementById-CpFP6E0B.js";const t=e=>document.body.querySelector(e),n="flag{qwq}";function s(s=!1){(function(){const e=new Date;1!==e.getDate()||3!==e.getMonth()||import("./reverse-U_9HVu8A.js")})(),hook.before.set(n,(()=>{const e=hook.chartsMD5.get(hook.selectchart.value);console.log(hook.tmps.name),"ab9d2cc3eb569236ead459ad4caba109"===e?hook.now.set(n,function(){console.log("好耶");const e=hook.audio.actx.createAnalyser();e.fftSize=4096;const o=()=>{const o=e.frequencyBinCount,t=new Uint8Array(o);e.getByteFrequencyData(t);const n=t.reduce(((e,o)=>e+o))/o;return Math.min(1,n/255*2.15)};let t=null,n=NaN,s=NaN,a=NaN,r="",c=!1;const i=(e,o,t)=>(r=o,c=t,e);return l=>{const d=1.95*l,m=hook.tmps.bgMusicHack();if(m&&m!==t&&(m.connect(e),t=m),d<168)hook.stat.numOfNotes=305,hook.tmps.level="lN Lv.I2",hook.tmps.progress=d/218;else if(d<169){const e=1-(169-d)**3;hook.stat.numOfNotes=305+2195*e|0,hook.tmps.progress=o()}else hook.stat.numOfNotes=2500,hook.tmps.progress=o();if(d>325&&d<358){const e=hook.stat.perfect,o=hook.stat.good,t=hook.stat.bad;isNaN(n)&&(n=e),isNaN(s)&&(s=o),isNaN(a)&&(a=t),e!==n?n=i(e,"Ｏ(≧▽≦)Ｏ",!0):o!==s?s=i(o,"(＾ω＾)",!0):t!==a&&(a=i(t,"(⊙﹏⊙;)",!0)),d<327||d>334&&d<335||d>342&&d<343||d>350&&d<351?i(null,"(⊙o⊙)",!1):c||(r="(⊙ω⊙)"),hook.tmps.combo=r}}}()):hook.now.delete(n)}));const a=setInterval((()=>{if(!t(".title>small"))return;clearInterval(a);let n=3;t(".title>small").addEventListener("click",(()=>{if(--n)return;const t=Utils.randomUUID(),a=Utils.randomUUID(),r=Utils.randomUUID(),c=hook.toast([`<a id="${t}" href="#">demo.zip</a>`,`<a id="${a}" href="#">Legacy</a>`,`<a id="${r}" href="#">${s?"Normal":"Beta"}</a>`].join("<br><br>"));o(t,(o=>{o.addEventListener("click",(()=>{const o=o=>hook.uploader.fireLoad({name:"demo.zip"},e.decodeAlt(o)),t=new XMLHttpRequest;t.open("GET","//i0.hdslb.com/bfs/music/1682346166.jpg",!0),t.responseType="blob",t.onprogress=e=>hook.uploader.fireProgress(e.loaded,e.total),t.onloadend=()=>createImageBitmap(t.response).then(o),function(e=()=>{}){const o=Object.assign(document.createElement("meta"),{content:"no-referrer",name:"referrer"});document.head.appendChild(o),e(),o.remove()}((()=>t.send())),c.dispatchEvent(new Event("custom-done"))}))})),o(a,(e=>{e.addEventListener("click",(()=>{location.replace("/sim-phi-legacy"),c.dispatchEvent(new Event("custom-done"))}))})),o(r,(e=>{e.addEventListener("click",(()=>{location.replace(s?"/sim-phi":"/sim-phi-vite"),c.dispatchEvent(new Event("custom-done"))}))}))}))}),500)}export{s as default};
//# sourceMappingURL=index-BadaWXKv.js.map
